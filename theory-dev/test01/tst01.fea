languagesystem DFLT dflt;


# Anchors anchory kotwice
include(tst01-anchors.fea)
#include(tst01-circ.fea)

#lookup cursanchory {
#  pos cursive \stemK <anchor 60 1649> <anchor 60 60>;
#  pos cursive \gorP.brzh <anchor 60 919> <anchor 60 839>;
#  pos cursive \stemG <anchor 60 900> <anchor 60 60>;
#    #pos stemK <anchor Anch1> entry (60, 1649);
#    #pos stemK <anchor Anch1> exit (60, 60);
#} cursanchory;

#feature curs {
# script DFLT;
#     language dflt ;
#     lookup cursanchory;
#} curs;




#Mark attachment classes (defined in GDEF, used in lookupflags)

@GDEF_Simple = [\.null \uni000A \space \quoteright \quotesinglbase \quotedblright 
	\quotedblbase \uni2029 \malaspacja \stemK \gorP.brzh \stemI.krt \stemKRT 
	\gorBbrzh \stemK.krt \stemG \gorST.brzh \luD1 \luD2 \gorPS.brzh \luT1 \luT2 \luKL 
	\luSJ \dolCZbrzh \dolSZ.brzh \dolDRZ.brzh \poczPUA \stemG.krt \stemI \uniD00F 
	\luUs \koloS \koloZ \eprost3 \eprost4 \luD3 \luD4 \luT3 \luT4 \okroci \prostaVOW 
	\prostaCONS \konCONS \endash \konVOW \eprost2 \dolMv.brzhd \luGL \dolTW \dolMK30 
	\dolETW \dolMKE \luU0 \luU2 \luNdol \dolLUK \eprost0 \eprost1 \eprost5 \eprost6 
	\gorMKE \koloL \gorZD.brzhd \dolDv.brzhd \luU1 \luU3 \luU4 \luU5 \luUa0 \luUa1 
	\luUa2 \luUa3 \luUa4 \luKLY \dolMK45 \dolTW.alt \gorMK45 \okredzi \okrodzi 
	\okreci \luNgor \luNOdol \luONgor \OstrI \gorLUK \gorOMluk \dolMOluk \k \g \i \e \u 
	\s \z \l \p \b \c \m \n \o \g_l \c_i ];

table GDEF {
  GlyphClassDef @GDEF_Simple, , , ;

} GDEF;

# GSUB

#lookup ciliga { sub c i by c_i; } ciliga;
#feature liga { 
#  language dflt;
#  sub g l by luGL;
#  lookup ciliga;
#} liga;

#lookup n {
#    sub n by luNgor luNdol;
#} n;

#feature ccmp {
#    lookup n;
#} ccmp;

@space = [ \space ];
@x_n = [ k g l m n p b s z ];
@male = [ k g i u s z l p b m n ];
@WIELKIE = [ K G I U S Z L P B M N ];

lookup onno {
    # xonox
    sub @GDEF_Simple o' n' o @GDEF_Simple by luONgor;
    #sub @GDEF_Simple luONgor n' o @GDEF_Simple by NULL;
    sub @GDEF_Simple luONgor o' @GDEF_Simple by luNOdol;
    # xonx
    sub @GDEF_Simple o' n @GDEF_Simple by luONgor;
    sub @GDEF_Simple luONgor n' @GDEF_Simple by luNdol;
    # xon
    sub n o' n' by luONgor;
    sub @GDEF_Simple o' n' by luONgor;

    # on
    #sub o' n by luONgor;
    #sub luONgor n' by luNdol;
	# no
    #sub n' o by luNgor;
    #sub luNgor o' by luNOdol;
    # ono
	#sub luONgor luNdol' o' by luNOdol;
    #sub luONgor luNdol' luNOdol by NULL;
} onno;

lookup ono {
} ono;

lookup kon {
    #sub @x_n luONgor luNdol' @space by NULL;
    #sub luONgor NULL' @x_n by luNdol;
} kon;


lookup onk {
    #sub n @x_n by
    #sub luNdol' @x_n by dolTW;
    #sub luNdol' luONgor by dolTW;
    #sub luNgor luONgor;
} onk;


lookup n {
    sub luNgor luNdol by n;
} n;

#lookup maleWIELKIE { sub @male by @WIELKIE; } maleWIELKIE;

#lookup maleWIELKIE { pos base @male <anchor 0 0> mark @circ; } maleWIELKIE;
#lookup maleWIELKIE { pos base @male <anchor 0 0> mark @circ; } maleWIELKIE;


feature ccmp {
    lookup n;
#    lookup maleWIELKIE;
#    lookup markcirc;
#    script latn;
#    language dflt;
} ccmp;


feature calt {
#   lookup on;
# 	lookup no;
 	lookup onno;
	lookup ono;
    lookup kon;
    lookup onk;
} calt;


#feature liga {
#    lookup subst {
#        context @male \circumflex;
#        sub @male by @WIELKIE;
#        sub circumflex by @LowerCircumflex;
#    } subst;
#} liga;

#feature mark {
#    markClass [acute grave circumflex];
#    markClass [acute grave circumflex] <anchor 1 0 0 0> @LowerCircumflex;
#} mark;

#lookup markPositioning {
#    pos @LowerCircumflex <anchor 0 0> mark @LowerCircumflex;
#} markPositioning;




