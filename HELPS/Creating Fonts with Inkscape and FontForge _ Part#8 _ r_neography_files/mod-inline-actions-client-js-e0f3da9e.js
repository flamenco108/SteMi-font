import{c as e,_ as t,n as i,s as o,l as s,x as n,a8 as r,e as a,ai as l,aj as d,p as c,aA as h,dx as p,d1 as u,az as m,cq as v,eD as A,aw as b,dP as k,aL as g,eE as y,a7 as C,f as R,ba as f,r as M,bw as w,dk as S,dh as U}from"./shell-6eeab4aa.js";import"./faceplate-tooltip-436bdd2d.js";import{i as z}from"./icon-overflow-horizontal-outline-d9ffe8f5.js";import{I}from"./icon-add-outline-744a87f2.js";import{i as B}from"./icon-lock-fill-bcbbe0ac.js";import{i as L}from"./icon-lock-outline-b9cc9719.js";import{I as Z}from"./icon-pin-fill-6e20f64e.js";import{I as j}from"./icon-pin-outline-ccb390db.js";import{I as D}from"./icon-remove-outline-422d11e9.js";import{W as x}from"./with-tracking-1fa824e6.js";import{I as P}from"./icon-nsfw-outline-dce24839.js";import{I as N}from"./icon-spoiler-outline-bd4ad2a8.js";let V=class extends o{constructor(){super(...arguments),this.showFullButtons=!1,this.ariaLabel="",this._handleModActionClick=()=>{this.dataModAction&&this.dispatchEvent(s(this.dataModAction))}}render(){return n` <faceplate-tracker source="moderator" action="click" noun="${this.noun}">\n <button \n aria-label="${this.ariaLabel}" \n @click="${this._handleModActionClick}" \n class="${r(this.buttonClass)} button button-small relative px-xs mr-2xs flex justify-center items-center" \n>\n <span class="${this.showFullButtons?"s:hidden":""} flex justify-center items-center">\n <slot name="icon"></slot></span>\n ${this.showFullButtons?n`<span aria-hidden="true" class="hidden s:block">\n <slot name="text"></slot>\n </span>`:""}\n </button>\n </faceplate-tracker>`}};V.styles=[e],t([i({type:String,attribute:"data-mod-action"})],V.prototype,"dataModAction",void 0),t([i({type:String,attribute:"event-noun"})],V.prototype,"noun",void 0),t([i({type:String,attribute:"button-class"})],V.prototype,"buttonClass",void 0),t([i({type:Boolean,attribute:"show-full-buttons"})],V.prototype,"showFullButtons",void 0),t([i({type:String,attribute:"aria-label"})],V.prototype,"ariaLabel",void 0),V=t([a("mod-action-button")],V);const{svg:F}=l();var $=d(F`<path d="M10 20a.724.724 0 0 1-.7-.532A12.693 12.693 0 0 0 .53 10.7a.73.73 0 0 1 0-1.4A12.7 12.7 0 0 0 9.3.529a.729.729 0 0 1 1.4 0A12.692 12.692 0 0 0 19.471 9.3a.73.73 0 0 1 0 1.4 12.7 12.7 0 0 0-8.769 8.77A.723.723 0 0 1 10 20Z"></path>`,"0 0 20 20","distinguish-fill");const{svg:E}=l();var H=d(E`<path d="M10 20a.724.724 0 0 1-.7-.532A12.693 12.693 0 0 0 .53 10.7a.73.73 0 0 1 0-1.4A12.7 12.7 0 0 0 9.3.529a.729.729 0 0 1 1.4 0A12.692 12.692 0 0 0 19.471 9.3a.73.73 0 0 1 0 1.4 12.7 12.7 0 0 0-8.769 8.77A.723.723 0 0 1 10 20ZM2.31 10A13.9 13.9 0 0 1 10 17.691 13.9 13.9 0 0 1 17.691 10a13.9 13.9 0 0 1-7.69-7.691A13.9 13.9 0 0 1 2.308 10Z"></path>`,"0 0 20 20","distinguish-outline");const{svg:W}=l();var _=d(W`<path d="M7.25 8.5A2.752 2.752 0 0 0 10 11.25a2.72 2.72 0 0 0 1.33-.358L7.609 7.169A2.721 2.721 0 0 0 7.25 8.5Z"></path><path d="M10 5.75a2.721 2.721 0 0 0-1.331.358l3.723 3.723A2.72 2.72 0 0 0 12.75 8.5 2.752 2.752 0 0 0 10 5.75Z"></path><path d="M18.67 2.13a.819.819 0 0 0-.7-.047 8.832 8.832 0 0 1-7.6-.062 10.3 10.3 0 0 0-8.92 0 .626.626 0 0 0-.351.563v17.191h.24V20H3v-5.442a9.033 9.033 0 0 1 6.826.4 10.084 10.084 0 0 0 8.822 0A.626.626 0 0 0 19 14.4V2.732a.712.712 0 0 0-.33-.602ZM10 12.75a4.25 4.25 0 1 1 0-8.5 4.25 4.25 0 0 1 0 8.5Z"></path>`,"0 0 20 20","ignore-reports-fill");const{svg:T}=l();var q=d(T`<path d="M10 4.326a4.125 4.125 0 1 0 0 8.25 4.125 4.125 0 0 0 0-8.25ZM7.125 8.451a2.845 2.845 0 0 1 .454-1.536l3.958 3.957a2.865 2.865 0 0 1-4.412-2.421Zm5.3 1.537L8.462 6.031a2.864 2.864 0 0 1 3.959 3.957h.004Zm6.25-7.858a.819.819 0 0 0-.7-.047 8.839 8.839 0 0 1-7.6-.062 10.3 10.3 0 0 0-8.92 0 .626.626 0 0 0-.352.563v17.191h1.25V14.8a9.04 9.04 0 0 1 7.477.162 10.084 10.084 0 0 0 8.821 0A.626.626 0 0 0 19 14.4V2.732a.712.712 0 0 0-.33-.602h.004ZM17.75 14a8.817 8.817 0 0 1-7.38-.162 10.308 10.308 0 0 0-8.022-.382V2.985a9.035 9.035 0 0 1 7.477.161 9.938 9.938 0 0 0 7.925.385V14Z"></path>`,"0 0 20 20","ignore-reports-outline");const{svg:G}=l();var J=d(G`<path d="M10 20c-.101 0-.202-.014-.3-.04C8.249 19.554 1 17.277 1 12V3.187A1.122 1.122 0 0 1 1.846 2.1L9.73.108c.177-.044.363-.044.54 0L18.154 2.1A1.122 1.122 0 0 1 19 3.187V12c0 5.277-7.249 7.554-8.7 7.957A1.162 1.162 0 0 1 10 20ZM2.25 3.283V12c0 4.465 6.989 6.531 7.786 6.751.725-.22 7.714-2.286 7.714-6.751V3.283L10 1.33 2.25 3.283Z"></path>`,"0 0 20 20","mod-outline");const K=c(x(o));class O extends K{constructor(){super(...arguments),this.size=h.Medium,this.isCurrentUserAuthor=!1,this.isArchived=!1,this.isDeleted=!1,this.isRemoved=!1,this.isModModeEnabled=!1,this.isLocked=!1,this.isStickied=!1,this.isReportingIgnored=!1,this.hasReports=!1,this.hasRemovalReason=!1,this.modActionsController=new p(this,(()=>this.thingId||""))}shouldAlwaysShowApproveRemoveAction(){return!this.isModModeEnabled&&!this.verdict&&!this.hasReports}get isDistinguishable(){return this.isCurrentUserAuthor&&!this.isDeleted}get isStickyable(){return!(this.isDeleted||this.isRemoved||this.viewContext===u.ProfileFeed||this.viewContext===u.ProfileFeed2)}get isLockable(){return!(this.isDeleted||this.isRemoved||this.isArchived)}renderApproveAction(){return this.shouldAlwaysShowApproveRemoveAction()||this.isRemoved?m({leadingIcon:v(),label:"Approve",size:this.size,onClick:this.modActionsController.handleApproveContent}):null}renderRemoveAction(){const e=this.verdict===A.ModApproved||this.verdict===A.AdminApproved;return this.shouldAlwaysShowApproveRemoveAction()||e?m({leadingIcon:b(),label:"Remove",size:this.size,onClick:this.modActionsController.handleRemoveContent}):null}renderConfirmRemovalAction(){return this.isRemoved&&"AutoModerator"===this.verdictBy?m({leadingIcon:D(),label:"Confirm Removal",size:this.size,onClick:this.modActionsController.handleConfirmRemoval}):null}renderIgnoreReportsAction(){return this.isReportingIgnored||!this.hasReports?null:m({leadingIcon:q(),label:"Ignore reports and Approve",size:this.size,onClick:this.modActionsController.handleIgnoreReports})}renderUnignoreReportsAction(){return this.isReportingIgnored?m({leadingIcon:_(),label:"Unignore Reports",size:this.size,onClick:this.modActionsController.handleUnignoreReports}):null}renderAddRemovalReasonAction(){return!(this.verdict===A.ModRemoved||this.verdict===A.AdminRemoved)||this.hasRemovalReason?null:m({leadingIcon:I(),label:"Add Removal Reason",size:this.size,onClick:this.modActionsController.handleAddRemovalReason})}renderDistinguishAction(){return!this.isDistinguishable||this.isRemoved||this.distinguishedAs===k.Moderator?null:m({leadingIcon:H(),label:"Distinguish as Mod",size:this.size,onClick:this.modActionsController.handleDistinguish})}renderUndistinguishAction(){return this.isDistinguishable&&this.distinguishedAs===k.Moderator?m({leadingIcon:$(),label:"Undistinguish as Mod",size:this.size,onClick:this.modActionsController.handleUndistinguish}):null}renderStickyAction(e){return!this.isStickyable||this.isStickied?null:m({leadingIcon:j(),label:e,size:this.size,onClick:this.modActionsController.handleSticky})}renderUnstickyAction(e){return this.isStickyable&&this.isStickied?m({leadingIcon:Z(),label:e,size:this.size,onClick:this.modActionsController.handleUnsticky}):null}renderLockAction(e){return!this.isLockable||this.isLocked?null:m({leadingIcon:L(),label:e,size:this.size,onClick:this.modActionsController.handleLock})}renderUnlockAction(e){return this.isLockable&&this.isLocked?m({leadingIcon:B(),label:e,size:this.size,onClick:this.modActionsController.handleUnlock}):null}renderMenuTrigger(e){return n`\n <faceplate-tracker source="moderator" action="click" noun="mod-shield-menu">\n ${g({leadingIcon:y(e)?z({size:C.Small}):J({size:C.Small}),screenReaderContent:"Moderation actions menu",attributes:{type:"button"},appearance:"plain",size:R.Small})}\n </faceplate-tracker>\n `}render(){return n`\n <faceplate-dropdown-menu position="bottom-end">\n ${this.renderMenuTrigger(this.viewContext||u.ProfileFeed)}\n <faceplate-menu slot="menu">\n ${this.renderActions()}\n <slot name="devvit-actions"></slot>\n </faceplate-menu>\n </faceplate-dropdown-menu>\n `}}O.styles=[e],t([i({type:String,attribute:"thing-id"})],O.prototype,"thingId",void 0),t([i({type:String,attribute:"verdict-by"})],O.prototype,"size",void 0),t([i({type:String,attribute:"view-context"})],O.prototype,"viewContext",void 0),t([i({type:String,attribute:"distinguished-as"})],O.prototype,"distinguishedAs",void 0),t([i({type:String,attribute:"verdict"})],O.prototype,"verdict",void 0),t([i({type:String,attribute:"verdict-by"})],O.prototype,"verdictBy",void 0),t([i({type:Boolean,attribute:"current-user-author"})],O.prototype,"isCurrentUserAuthor",void 0),t([i({type:Boolean,attribute:"archived"})],O.prototype,"isArchived",void 0),t([i({type:Boolean,attribute:"deleted"})],O.prototype,"isDeleted",void 0),t([i({type:Boolean,attribute:"removed"})],O.prototype,"isRemoved",void 0),t([i({type:Boolean,attribute:"mod-mode"})],O.prototype,"isModModeEnabled",void 0),t([i({type:Boolean,attribute:"locked"})],O.prototype,"isLocked",void 0),t([i({type:Boolean,attribute:"stickied"})],O.prototype,"isStickied",void 0),t([i({type:Boolean,attribute:"reporting-ignored"})],O.prototype,"isReportingIgnored",void 0),t([i({type:Boolean,attribute:"has-reports"})],O.prototype,"hasReports",void 0),t([i({type:Boolean,attribute:"has-removal-reason"})],O.prototype,"hasRemovalReason",void 0);let Q=class extends O{constructor(){super(...arguments),this.hasParent=!1,this.handleCommentUpdate=({commentId:e,action:t,value:i})=>{if(e===this.thingId)switch(t){case f.lock:this.isLocked=Boolean(i);break;case f.sticky:this.isStickied=Boolean(i);break;case f.distinguishAsMod:this.distinguishedAs=i?k.Moderator:void 0;break;case f.approve:this.isRemoved=!1,this.hasRemovalReason=!1,this.verdict=A.ModApproved;break;case f.remove:case f.confirmRemoval:this.isRemoved=!0,this.verdict=A.ModRemoved;break;case f.addRemovalReason:this.hasRemovalReason=Boolean(i);break;case f.ignoreReports:this.isReportingIgnored=Boolean(i),i&&(this.isRemoved=!1,this.verdict=A.ModApproved)}}}get isStickyable(){return super.isStickyable&&this.isCurrentUserAuthor&&!this.hasParent}connectedCallback(){super.connectedCallback(),this.subscribe(M.CommentUpdated,this.handleCommentUpdate)}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe(M.CommentUpdated,this.handleCommentUpdate)}renderActions(){return[this.renderConfirmRemovalAction(),this.renderApproveAction(),this.renderRemoveAction(),this.renderIgnoreReportsAction(),this.renderUnignoreReportsAction(),this.renderAddRemovalReasonAction(),this.renderDistinguishAction(),this.renderUndistinguishAction(),this.renderStickyAction("Sticky comment"),this.renderUnstickyAction("Unsticky comment"),this.renderLockAction("Lock comment"),this.renderUnlockAction("Unlock comment")]}};t([i({type:Boolean,attribute:"has-parent"})],Q.prototype,"hasParent",void 0),Q=t([a("shreddit-comment-mod-actions-menu")],Q);const{svg:X}=l();var Y=d(X`<path d="M17.882 14h-1.926L11.9 1.386a2 2 0 0 0-3.8 0L4.044 14H2.118A1.099 1.099 0 0 0 1 15.083v2.834A1.1 1.1 0 0 0 2.118 19h15.764A1.101 1.101 0 0 0 19 17.917v-2.834A1.1 1.1 0 0 0 17.882 14Zm-5.168-6H7.286l.562-1.75h4.3L12.714 8Zm.4 1.25.564 1.75H6.322l.562-1.75h6.23ZM9.289 1.769a.747.747 0 0 1 1.422 0L11.75 5h-3.5l1.039-3.231ZM5.92 12.25h8.16l.562 1.75H5.358l.562-1.75Zm11.83 5.5H2.25v-2.5h15.5v2.5Z"></path>`,"0 0 20 20","crowd-control-outline");let ee=class extends O{constructor(){super(...arguments),this.isNsfw=!1,this.isSpoiler=!1,this.isPostLevelCrowdControlEnabled=!1,this.handlePostUpdate=({postId:e,action:t,value:i})=>{if(e===this.thingId)switch(t){case w.lock:this.isLocked=Boolean(i);break;case w.sticky:this.isStickied=Boolean(i);break;case w.distinguishAsMod:this.distinguishedAs=i?k.Moderator:void 0;break;case w.approve:this.isRemoved=!1,this.hasRemovalReason=!1,this.verdict=A.ModApproved;break;case w.remove:case w.confirmRemoval:this.isRemoved=!0,this.verdict=A.ModRemoved;break;case w.addRemovalReason:this.hasRemovalReason=Boolean(i);break;case w.markAsNsfw:this.isNsfw=Boolean(i);break;case w.markAsSpoiler:this.isSpoiler=Boolean(i);break;case w.ignoreReports:this.isReportingIgnored=Boolean(i),i&&(this.isRemoved=!1,this.verdict=A.ModApproved)}}}get isStickyable(){return super.isStickyable&&this.viewContext!==u.CommentsPage}connectedCallback(){super.connectedCallback(),this.subscribe(M.PostUpdated,this.handlePostUpdate)}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe(M.PostUpdated,this.handlePostUpdate)}renderMarkAsNsfwAction(){return this.isDeleted||this.isNsfw?null:m({leadingIcon:P(),label:"Mark as NSFW",size:this.size,onClick:this.modActionsController.handleMarkNsfw})}renderUnmarkAsNsfwAction(){return this.isDeleted||!this.isNsfw?null:m({leadingIcon:S(),label:"Unmark as NSFW",size:this.size,onClick:this.modActionsController.handleUnmarkNsfw})}renderMarkAsSpoilerAction(){return this.isDeleted||this.isSpoiler?null:m({leadingIcon:N(),label:"Mark as spoiler",size:this.size,onClick:this.modActionsController.handleMarkSpoiler})}renderUnmarkAsSpoilerAction(){return this.isDeleted||!this.isSpoiler?null:m({leadingIcon:U(),label:"Unmark as spoiler",size:this.size,onClick:this.modActionsController.handleUnmarkSpoiler})}renderAdjustCrowdControlAction(){return m({leadingIcon:Y(),label:"Adjust crowd control",size:this.size,onClick:this.modActionsController.handleAdjustCrowdControl})}renderActions(){return[this.renderConfirmRemovalAction(),this.renderApproveAction(),this.renderRemoveAction(),this.renderIgnoreReportsAction(),this.renderUnignoreReportsAction(),this.renderAddRemovalReasonAction(),this.renderDistinguishAction(),this.renderUndistinguishAction(),this.renderStickyAction("Sticky post"),this.renderUnstickyAction("Unsticky post"),this.renderLockAction("Lock comments"),this.renderUnlockAction("Unlock comments"),this.renderMarkAsNsfwAction(),this.renderUnmarkAsNsfwAction(),this.renderMarkAsSpoilerAction(),this.renderUnmarkAsSpoilerAction(),this.isPostLevelCrowdControlEnabled?this.renderAdjustCrowdControlAction():null]}};t([i({type:Boolean,attribute:"nsfw"})],ee.prototype,"isNsfw",void 0),t([i({type:Boolean,attribute:"spoiler"})],ee.prototype,"isSpoiler",void 0),t([i({type:Boolean,attribute:"post-level-crowd-control-enabled"})],ee.prototype,"isPostLevelCrowdControlEnabled",void 0),ee=t([a("shreddit-post-mod-actions-menu")],ee);
//# sourceMappingURL=mod-inline-actions-client-js-e0f3da9e.js.map
